<head>
    <script src="jquery.js"></script>
    <script src="http://wenzhixin.net.cn/p/multiple-select/docs/assets/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="multiple-select.css">
</head>
<body>
<select multiple="multiple" class="w300">
    <optgroup label="Group 1">
        <option value="1">000</option>
        <option value="2">001</option>
        <option value="3">002</option>
        <option value="4">003</option>
    </optgroup>

    <optgroup label="Group 3">
        <option value="1">000</option>
        <option value="2">001</option>
        <option value="3">002</option>
        <option value="4">003</option>
    </optgroup>

    <optgroup label="Group 4">
        <option value="1">000</option>
        <option value="2">001</option>
        <option value="3">002</option>
        <option value="4">003</option>
    </optgroup>
</select>
<script src="jquery.multiple.select.js"></script>
<script>
    $(function () {
        $("select").multipleSelect({
            filter: true,
            multiple: true
        });

        MultipleSelect.prototype.filter = function ()
        {
            var that = this,
                text = $.trim(this.$searchInput.val()).toLowerCase();

            if (text.length === 0)
            {
                this.$selectItems.parent().show();
                this.$disableItems.parent().show();
                this.$selectGroups.parent().show();
            }
            else
            {
                this.$selectItems.each(function ()
                {
                    var $parent = $(this).parent();
                    $parent[$parent.text().toLowerCase().indexOf(text) < 0 ? 'hide' : 'show']();
                });

                this.$disableItems.parent().hide();
                this.$selectGroups.each(function ()
                {
                    var $parent = $(this).parent();
                    var group = $parent.attr('data-group'),
                        $items = that.$selectItems.filter(':visible');

                    $parent[$items.filter('[data-group="' + group + '"]').length === 0 ? 'hide' : 'show']();
                });

                //Check if no matches found
                if (this.$selectItems.filter(':visible').length)
                {
                    this.$selectAll.parent().show();
                    this.$noResults.hide();
                }
                else
                {
                    this.$selectAll.parent().hide();
                    this.$noResults.show();
                }
            }
            this.updateOptGroupSelect();
            this.updateSelectAll();
        }
    });


</script>
</body>